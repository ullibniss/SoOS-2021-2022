### Подготовка

Изучите команды `find`, `xargs`, и `grep` с помощью команды `man`.

### Задания

Используя команду `find`:

1. Найдите все файлы и каталоги, имя которых содержит слово `pass`, поиск начните с корневого каталога
	```sh
	find / -name "*pass*"
	```

2. Найдите все файлы и каталоги, имя которых содержит слово `pass` без учёта регистра, поиск начните с корневого каталога.
	```sh
	find / -iname "*pass*"
	```

3. Найдите все файлы и каталоги, имя которых содержит слово `pass`, ограничив глубину поиска одним каталогом, поиск начните с корневого каталога
	```sh
	find / -maxdepth 1 -name "*pass*"
	```

4. Найдите все файлы и каталоги, имена которых оканчиваются на `.bin`. Поиск необходимо выполнить в каталоге `/home`.
	```sh
	find /home -name "*.bin"
	```

5. Найдите все **файлы** (и только файлы) с расширением `bak` и удалите их
	```sh
	find / -type f -name "*.bak"
	```
	delete: 
	```sh 
	find / -type f -name "*.bak" -exec rm -f {} \;
	```
	 
6. Найдите все **файлы** (и только файлы) с расширениями `txt` и `sh`.
	
	```sh
	find / -type f -name  "*.txt" -o  -name "*.sh"
	```
	
7. Найдите все **файлы** (и только файлы) в текущем каталоге и выведите **только** имя файла (без каталога), владельца, группу владельца, количество жёстких ссылок на этот файл и его размер в байтах.
	```sh
	find . -type f -printf "%f %u %g %n %sB\n"
	```
	
8. Найдите все пустые **каталоги** в текущем каталоге.
 	```sh
	find . -type d -empty
	```
	
9. Найдите все пустые **каталоги** в текущем каталоге и удалите их.
 	```sh
 	find . -type d -empty -exec rm -d {} \;
 	```
	
10. Найдите и удалите все пустые **файлы** (и только файлы).
	```sh
	find / -type f -empty -exec rm {} \;
	```
	
11. Найдите все **файлы** (и только файлы) в текущем каталоге, на которые есть хотя бы одна жёсткая ссылка.
	```sh
	find . -type f -links +0 -printf "%f %n \n"
	```
	
12. Найдите файлы и каталоги в каталоге `/etc`, **не** принадлежащие пользователю `root`.
	```sh
	find /etc -type d -not -user root -printf "%f %u \n"
	```
	
13. Найдите все **файлы** (и только файлы), у которых **нет** расширения `sh`.
	```sh
	find / -type f -not -name "*.sh"
	```
	
14. Найдите все **файлы** (и только файлы), у которых количество жёстких ссылок более двух.
	```sh
	find / -type f -links +2
	```
	
15. Найдите все **файлы** (и только файлы) в каталоге `/usr/bin`, последний доступ к которым осуществлялся более трёх месяцев назад.
 	```sh
	find /usr/bin -type f -mtime +90
	```
	
16. Найдите все **файлы** (и только файлы) в каталогах `/usr/bin` и `/usr/share`, созданные или изменённые в течении последних 10 дней.
	```sh
	find /usr/bin /usr/share -type f -mtime -10
	```
	
17. Найдите и удалите все **файлы** (и только файлы) в каталоге `/tmp`, которые не менялись более двух недель.
	```sh
	find /tmp -type f -mtime +14
	```
	
18. Найдите все **файлы** (и только файлы) в каталоге `/usr/bin` с установленным флагом suid/sgid.
	```sh
	find /usr/bin -perm /u=s -o /perm /g=s
	```

Используя команды `find` и `xargs` или параметр `-exec` команды `find`:

1. Найдите все **файлы** (и только файлы) с расширением `txt` и подсчитайте количество строк во всех этих файлах.
	```sh 	
	find / -type f -name "*.txt" | xargs -L1 wc -l
	```
	
2. Найдите все каталоги с названием `.svn` и удалите их, включая содержимое этих каталогов, попутно выводя список удалённых файлов на экран.
	```sh
	sudo find / -type f -name "*.svn" -exec rm {} \; -printf "%p"
	```
3. Найдите все **файлы** (и только файлы) с расширением `sh` и добавьтем им право на исполнение.
	```sh
	 find / -type f -name "*.sh" | xargs -L1 chmod a+x
	 ```
	 
4. Найдите все **файлы** (и только файлы) с расширением `conf` в каталоге `/etc` и подсчитайте их суммарный размер, используя команду du.
	```sh
	sudo find /etc -type f -name "*.conf" | xargs -L1 du | awk '{s+=$1} END {print s}'
	```

Протестируйте команды, которые вы написали выше, для файлов и каталогов, в именах которых содержатся пробелы и специальные символы, такие как `!` и `&`.

Используя команду `grep`:

1. Из файла `/var/log/messages` вывести строки, содержащие ключевое слово `ERROR`, без учёта регистра.
	```sh
	cat /var/log/messages | grep -i ERROR
	```
	
2. Из файла `/var/log/messages` вывести **количество** строк, **не** содержащих ключевое слово `ERROR`, без учёта регистра.
	```sh
	cat /var/log/messages | grep -vi ERROR | wc -l
	```
	
3. Из файла `/var/log/messages` вывести строки, содержащие **только слово `ERROR` целиком**, с учётом регистра.
	```sh
	cat /var/log/messages | grep -o ERROR
	```

4. Вывести количество строк из файла `/etc/group`, совпадающих с шаблоном `wheel`.
	```sh
	cat /etc/group | grep wheel | wc -l
	```

5. Найти во всех файлах из текущего каталога и вложенных подкаталогов строки, содержащие шаблон `#!bin/bash`.
	```sh
	grep '#!/bin/bash'  $(find . -type f) 
	```

6. Изменить предыдущую команду таким образом, чтобы она выводила дополнительные 10 строк после каждого найденного шаблона.
	```sh
	grep -A10 '#!/bin/bash'  $(find . -type f)
	```
	
7. Найти во всех файлах с расширением `sh` из текущего каталога и вложенных подкаталогов строки, содержащие слово `echo` **целиком**. В выводе команды `grep` найденные слова выделите цветом.
	```sh
	grep --color 'echo' $(find . -type f -name "*.sh")
	```
	
9. Измените предыдущую команду таким образом, чтобы команда grep отображала также имя файла и номер строки, в которой было обнаружено совпадение с шаблоном.
	```sh
	grep --color -n 'echo' $(find . -type f -name "*.sh")
	```

# Отчёт по лабораторной работе

Скопируйте данную лабораторную работу в виде файла Markdown на свой компьютер, и под каждым заданием напишите ответ.

```sh
git clone https://github.com/efanov/mephi.wiki.git
```

Получившийся файл загрузите в собственный репозиторий.
